@model GoRegister.Areas.Admin.Models.ChartViewModels.ChartPieViewModel

<div class="card shadow mb-4">
    <input type="hidden" id="piechartdata" data-totalaccepted="@Model.TotalAccepted" data-totaldeclined="@Model.TotalDeclined" data-totalcancelled="@Model.TotalCancelled" data-cutoutper="@Model.CutOutPercentage"/>    

    <div class="card-header py-3 d-flex flex-row">
        <h6 class="m-0 font-weight-bold text-primary">@Model.Header</h6>
    </div>
    <div class="card-body">
        @{ if (Model.TotalAccepted > 0 || Model.TotalCancelled > 0 || Model.TotalDeclined > 0)
            {
                <div class="chart-pie pt-4 pb-2">
                    <canvas id="pieChart" class="chartjs-render-monitor"></canvas>
                </div> }
            else
            {
                <div class="text-center">Not enough data to generate graph</div>
            }
        }

        <div class="mt-4 text-center small">
            <span class="mr-2">
                <i class="fas fa-circle text-success"></i> Accepted (@Model.TotalAccepted)
            </span>
            <span class="mr-2">
                <i class="fas fa-circle text-info"></i> Declined (@Model.TotalDeclined)
            </span>
            <span class="mr-2">
                <i class="fas fa-circle text-warning"></i> Cancelled (@Model.TotalCancelled)
            </span>
        </div>
    </div>
</div>


@section scripts
{
    <script id="script-chart-pie" src="/assets/admin/js/app/script-chart-pie.js" asp-append-version="true"></script>
}
